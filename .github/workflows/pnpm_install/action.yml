name: Install PNPM version using Mise's version
runs:
  using: composite
  steps:
    - uses: pnpm/action-setup@v4
      name: Install PNPM
      id: pnpm-install

    - name: Read mise.toml version
      run: |
        echo "Reading Node.js version from mise.toml"
        PNPM_VERSION=$(yq '.tools.pnpm' mise.toml)
        echo "Using PNPM version: $PNPM_VERSION"
        echo "PNPM_VERSION=$PNPM_VERSION" >> $GITHUB_ENV
      shell: bash

    - name: Set up PNPM
      uses: pnpm/action-setup@v4
      with:
        version: ${{ env.PNPM_VERSION }}
